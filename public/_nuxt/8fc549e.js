(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{524:function(t,e,o){"use strict";o.r(e);var r={props:["show"]},n=o(69),c=o(71),l=o.n(c),m=o(285),d=o(483),f=o(466),v=o(608),h=o(193),w=o(610),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[o("v-card",[o("v-card-title",[o("v-spacer"),t._v(" "),o("v-icon",{attrs:{color:"warning",left:"",size:"60"}},[t._v("mdi-alert-circle-outline")]),t._v(" "),o("v-spacer")],1),t._v(" "),o("div",{staticClass:"text-lg text-center mb-4"},[t._v("\n\t\t\tAnda yakin akan menghapus data ini?\n\t\t")]),t._v(" "),o("v-card-actions",[o("v-spacer"),t._v(" "),o("v-btn",{attrs:{text:""},on:{click:function(e){return t.$emit("cancel")}}},[t._v("BATAL")]),t._v(" "),o("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){return t.$emit("delete")}}},[t._v(" HAPUS ")]),t._v(" "),o("v-spacer")],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;l()(component,{VBtn:m.a,VCard:d.a,VCardActions:f.a,VCardTitle:f.c,VDialog:v.a,VIcon:h.a,VSpacer:w.a})},529:function(t,e,o){"use strict";o(12),o(9),o(10),o(16),o(11),o(17);var r=o(3);o(19),o(28);function n(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?n(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):n(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={data:function(){return{filters:{},sort:null,sort_direction:null,loading:!0,selectedData:[],selectedRow:{},rules:{},form:{},showForm:!1,dialogDelete:!1,items:[],totalItems:0,paginated:!0,options:{page:1,itemsPerPage:10,sortBy:[],sortDesc:[!1],groupBy:!1,groupDesc:!1,multiSort:!1,mustSort:!1},yesNoFilter:[{value:"yes",text:"Yes"},{value:"no",text:"No"}]}},watch:{options:{deep:!0,handler:function(){this.getData()}},tenant_id:{handler:function(){this.getData()}}},methods:{searchData:function(){this.options.page=1,this.getData()},getData:function(){var t=this;this.loading=!0;var e=c(c(c({},this.options),this.filters),{},{paginated:this.paginated,sort_field:this.options.sortBy[0],sort_direction:this.options.sortDesc[0]?"desc":"asc"});this.$axios.$get(this.url,{params:e}).then((function(e){t.paginated?(t.items=e.data,t.totalItems=e.total):(t.items=e,t.totalItems=e.length)})).catch((function(e){t.$notifier.showMessage({content:e.response.data.message,color:"error"})})).finally((function(){return t.loading=!1}))},clearSearch:function(){this.options.page=1,this.filters.keyword="",this.getData()},refreshData:function(){this.options.page=1,this.filters={},this.getData()},saveData:function(){var t=this;this.loading=!0,this.$axios({method:this.form.id?"put":"post",url:this.form.id?"".concat(this.url,"/").concat(this.form.id):this.url,data:this.form}).then((function(e){t.closeForm(),t.$notifier.showMessage({content:e.data.message,color:"success"}),t.refreshData(),t.afterSave()})).catch((function(e){422==e.response.status?(t.rules=e.response.data.errors,t.$refs.form.validate()):t.$notifier.showMessage({content:e.response.data.message,color:"error"})})).finally((function(){return t.loading=!1}))},afterSave:function(){},afterDelete:function(){},confirmDelete:function(t){this.dialogDelete=!0,this.selectedRow=t},deleteData:function(){var t=this;this.loading=!0,this.$axios.$delete("".concat(this.url,"/").concat(this.selectedRow.id)).then((function(e){t.dialogDelete=!1,t.$notifier.showMessage({content:e.message,color:"success"}),t.getData(),t.afterDelete()})).catch((function(e){e.response.status&&t.$notifier.showMessage({content:e.response.data.message,color:"error"})})).finally((function(){return t.loading=!1}))},openForm:function(t){this.form=c({},t),this.selectedRow=c({},t),this.showForm=!0},closeForm:function(){this.$refs.form.resetValidation(),this.showForm=!1}}}},657:function(t,e,o){"use strict";o.r(e);o(12),o(9),o(10),o(16),o(11),o(17);var r=o(3),n=o(529),c=o(124);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}var m={mixins:[n.a],data:function(){return{url:"/api/user",paginated:""}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(c.b)(["customerList"])),mounted:function(){this.$store.dispatch("getCustomerList"),this.getData()}},d=m,f=o(69),v=o(71),h=o.n(v),w=o(648),_=o(285),D=o(483),O=o(466),x=o(608),y=o(647),k=o(193),j=o(122),V=o(196),P=o(197),$=o(81),F=o(643),A=o(610),C=o(660),I=o(557),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"d-flex mb-2"},[o("div",{staticClass:"text-h6 ml-2"},[t._v("Kelola User ("+t._s(t.totalItems)+")")])]),t._v(" "),t._l(t.items,(function(e){return o("v-list-item",{key:e.id,class:["mb-1  rounded",e.active?"white":"red lighten-4"],attrs:{link:""},on:{click:function(o){t.form=Object.assign({},e),t.showForm=!0}}},[o("v-list-item-avatar",{attrs:{color:e.role?"green":"orange"}},[e.role?o("v-icon",{attrs:{dark:""}},[t._v("mdi-shield-account")]):o("v-icon",{attrs:{dark:""}},[t._v("mdi-account-circle")])],1),t._v(" "),o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:t._s(e.name)}}),t._v(" "),o("v-list-item-subtitle",[t._v("\n\t\t\t\t"+t._s(e.email)+"\n\t\t\t")])],1),t._v(" "),o("v-list-item-action",[o("v-btn",{attrs:{icon:"",small:""},on:{click:function(o){return o.stopPropagation(),t.confirmDelete(e)}}},[o("v-icon",{attrs:{color:"grey"}},[t._v("mdi-delete")])],1)],1)],1)})),t._v(" "),o("DeleteConfirmation",{attrs:{show:t.dialogDelete},on:{cancel:function(e){t.dialogDelete=!1},delete:t.deleteData}}),t._v(" "),o("v-btn",{attrs:{color:"indigo",fab:"",dark:"",fixed:"",bottom:"",right:""},on:{click:function(e){t.form={},t.showForm=!0}}},[o("v-icon",[t._v("mdi-plus")])],1),t._v(" "),o("v-dialog",{attrs:{"max-width":"500"},model:{value:t.showForm,callback:function(e){t.showForm=e},expression:"showForm"}},[o("v-card",[o("v-card-title",{staticClass:"mb-4"},[t._v("\n\t\t\t\t"+t._s(t.form.id?"Edit":"Tambah")+" User\n\t\t\t\t"),o("v-spacer"),t._v(" "),o("v-btn",{attrs:{icon:"",small:""},on:{click:function(e){t.showForm=!1}}},[o("v-icon",[t._v("mdi-close")])],1)],1),t._v(" "),o("v-card-text",[o("v-form",{ref:"form",attrs:{"lazy-validation":""}},[o("v-text-field",{attrs:{outlined:"",dense:"",rules:t.rules.name,label:"Nama"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),o("v-text-field",{attrs:{outlined:"",dense:"",rules:t.rules.email,label:"Email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t._v(" "),o("v-select",{attrs:{outlined:"",dense:"",rules:t.rules.role,label:"Role",items:[{text:"PELANGGAN",value:0},{text:"ADMIN",value:1}]},model:{value:t.form.role,callback:function(e){t.$set(t.form,"role",e)},expression:"form.role"}}),t._v(" "),0==t.form.role?o("v-autocomplete",{attrs:{outlined:"",dense:"",rules:t.rules.customer_id,label:"Pelanggan",items:t.customerList,"item-text":"nama","item-value":"id"},model:{value:t.form.customer_id,callback:function(e){t.$set(t.form,"customer_id",e)},expression:"form.customer_id"}}):t._e(),t._v(" "),o("v-text-field",{attrs:{outlined:"",dense:"",rules:t.rules.password,type:"password",label:"Password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t._v(" "),o("v-text-field",{attrs:{outlined:"",dense:"",type:"password",label:"Konfirmasi Password"},model:{value:t.form.password_confirmation,callback:function(e){t.$set(t.form,"password_confirmation",e)},expression:"form.password_confirmation"}}),t._v(" "),o("v-switch",{attrs:{label:t.form.active?"AKTIF":"NONAKTIF"},model:{value:t.form.active,callback:function(e){t.$set(t.form,"active",e)},expression:"form.active"}})],1)],1),t._v(" "),o("v-card-actions",[o("v-spacer"),t._v(" "),o("v-btn",{attrs:{text:""},on:{click:function(e){t.showForm=!1}}},[t._v(" BATAL ")]),t._v(" "),o("v-btn",{attrs:{color:"primary",text:""},on:{click:t.saveData}},[t._v(" SIMPAN ")])],1)],1)],1)],2)}),[],!1,null,null,null);e.default=component.exports;h()(component,{DeleteConfirmation:o(524).default}),h()(component,{VAutocomplete:w.a,VBtn:_.a,VCard:D.a,VCardActions:O.a,VCardText:O.b,VCardTitle:O.c,VDialog:x.a,VForm:y.a,VIcon:k.a,VListItem:j.a,VListItemAction:V.a,VListItemAvatar:P.a,VListItemContent:$.a,VListItemSubtitle:$.b,VListItemTitle:$.c,VSelect:F.a,VSpacer:A.a,VSwitch:C.a,VTextField:I.a})}}]);