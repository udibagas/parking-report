(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{483:function(t,e,r){"use strict";r(11),r(9),r(10),r(16),r(12),r(17);var n=r(3);r(19),r(28);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={data:function(){return{filters:{},sort:null,sort_direction:null,loading:!0,selectedData:[],selectedRow:{},rules:{},form:{},showForm:!1,dialogDelete:!1,items:[],totalItems:0,paginated:!0,options:{page:1,itemsPerPage:10,sortBy:[],sortDesc:[!1],groupBy:!1,groupDesc:!1,multiSort:!1,mustSort:!1},yesNoFilter:[{value:"yes",text:"Yes"},{value:"no",text:"No"}]}},watch:{options:{deep:!0,handler:function(){this.getData()}},tenant_id:{handler:function(){this.getData()}}},methods:{searchData:function(){this.options.page=1,this.getData()},getData:function(){var t=this;this.loading=!0;var e=l(l(l({},this.options),this.filters),{},{paginated:this.paginated,sort_field:this.options.sortBy[0],sort_direction:this.options.sortDesc[0]?"desc":"asc"});this.$axios.$get(this.url,{params:e}).then((function(e){t.paginated?(t.items=e.data,t.totalItems=e.total):(t.items=e,t.totalItems=e.length)})).catch((function(e){t.$notifier.showMessage({content:e.response.data.message,color:"error"})})).finally((function(){return t.loading=!1}))},clearSearch:function(){this.options.page=1,this.filters.keyword="",this.getData()},refreshData:function(){this.options.page=1,this.filters={},this.getData()},saveData:function(){var t=this;this.loading=!0,this.$axios({method:this.form.id?"put":"post",url:this.form.id?"".concat(this.url,"/").concat(this.form.id):this.url,data:this.form}).then((function(e){t.closeForm(),t.$notifier.showMessage({content:e.data.message,color:"success"}),t.refreshData(),t.afterSave()})).catch((function(e){422==e.response.status?(t.rules=e.response.data.errors,t.$refs.form.validate()):t.$notifier.showMessage({content:e.response.data.message,color:"error"})})).finally((function(){return t.loading=!1}))},afterSave:function(){},afterDelete:function(){},confirmDelete:function(t){this.dialogDelete=!0,this.selectedRow=t},deleteData:function(){var t=this;this.loading=!0,this.$axios.$delete("".concat(this.url,"/").concat(this.selectedRow.id)).then((function(e){t.dialogDelete=!1,t.$notifier.showMessage({content:e.message,color:"success"}),t.getData(),t.afterDelete()})).catch((function(e){e.response.status&&t.$notifier.showMessage({content:e.response.data.message,color:"error"})})).finally((function(){return t.loading=!1}))},openForm:function(t){this.form=l({},t),this.selectedRow=l({},t),this.showForm=!0},closeForm:function(){this.$refs.form.resetValidation(),this.showForm=!1}}}},509:function(t,e,r){"use strict";r.r(e);var n={props:["show"]},o=r(69),l=r(71),c=r.n(l),m=r(219),f=r(474),d=r(464),v=r(629),_=r(193),h=r(580),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[r("v-card",[r("v-card-title",[r("v-spacer"),t._v(" "),r("v-icon",{attrs:{color:"warning",left:"",size:"60"}},[t._v("mdi-alert-circle-outline")]),t._v(" "),r("v-spacer")],1),t._v(" "),r("div",{staticClass:"text-lg text-center mb-4"},[t._v("\n\t\t\tAnda yakin akan menghapus data ini?\n\t\t")]),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{text:""},on:{click:function(e){return t.$emit("cancel")}}},[t._v("BATAL")]),t._v(" "),r("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){return t.$emit("delete")}}},[t._v(" HAPUS ")]),t._v(" "),r("v-spacer")],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBtn:m.a,VCard:f.a,VCardActions:d.a,VCardTitle:d.c,VDialog:v.a,VIcon:_.a,VSpacer:h.a})},683:function(t,e,r){"use strict";r.r(e);var n={mixins:[r(483).a],data:function(){return{url:"/api/tarif",paginated:""}},mounted:function(){this.getData()}},o=r(69),l=r(71),c=r.n(l),m=r(219),f=r(474),d=r(464),v=r(629),_=r(671),h=r(193),x=r(122),y=r(196),k=r(197),w=r(81),D=r(667),$=r(580),j=r(538),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"d-flex mb-2"},[r("div",{staticClass:"text-h6 ml-2"},[t._v("Kelola Tarif ("+t._s(t.totalItems)+")")])]),t._v(" "),t._l(t.items,(function(e){return r("v-list-item",{key:e.id,staticClass:"mb-1 eounded white",attrs:{link:""},on:{click:function(r){t.form=Object.assign({},e),t.showForm=!0}}},[r("v-list-item-avatar",{attrs:{color:"purple"}},[r("v-icon",{attrs:{dark:""}},[t._v("mdi-car")])],1),t._v(" "),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(e.nama)}}),t._v(" "),r("v-list-item-subtitle",[t._v("\n\t\t\t\t"+t._s(0==e.mode_tarif?"Flat = Rp. "+t.$decimal(e.tarif_flat):"Progresif = Max Rp."+t.$decimal(e.tarif_maksimum))+"\n\t\t\t")])],1),t._v(" "),r("v-list-item-action",[r("v-btn",{attrs:{icon:"",small:""},on:{click:function(r){return r.stopPropagation(),t.confirmDelete(e)}}},[r("v-icon",{attrs:{color:"grey"}},[t._v("mdi-delete")])],1)],1)],1)})),t._v(" "),r("DeleteConfirmation",{attrs:{show:t.dialogDelete},on:{cancel:function(e){t.dialogDelete=!1},delete:t.deleteData}}),t._v(" "),r("v-btn",{attrs:{color:"indigo",fab:"",dark:"",fixed:"",bottom:"",right:""},on:{click:function(e){t.form={},t.showForm=!0}}},[r("v-icon",[t._v("mdi-plus")])],1),t._v(" "),r("v-dialog",{attrs:{"max-width":"500"},model:{value:t.showForm,callback:function(e){t.showForm=e},expression:"showForm"}},[r("v-card",[r("v-card-title",{staticClass:"mb-4"},[t._v("\n\t\t\t\t"+t._s(t.form.id?"Edit":"Tambah")+" Tarif\n\t\t\t\t"),r("v-spacer"),t._v(" "),r("v-btn",{attrs:{icon:"",small:""},on:{click:function(e){t.showForm=!1}}},[r("v-icon",[t._v("mdi-close")])],1)],1),t._v(" "),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""}},[r("v-text-field",{attrs:{outlined:"",dense:"",rules:t.rules.nama,label:"Jenis Kendaraan"},model:{value:t.form.nama,callback:function(e){t.$set(t.form,"nama",e)},expression:"form.nama"}}),t._v(" "),r("v-text-field",{attrs:{outlined:"",dense:"",rules:t.rules.group,label:"Group"},model:{value:t.form.group,callback:function(e){t.$set(t.form,"group",e)},expression:"form.group"}}),t._v(" "),r("v-text-field",{attrs:{outlined:"",dense:"",rules:t.rules.shortcut_key,label:"Shortcut",type:"number"},model:{value:t.form.shortcut_key,callback:function(e){t.$set(t.form,"shortcut_key",e)},expression:"form.shortcut_key"}}),t._v(" "),r("v-text-field",{attrs:{outlined:"",dense:"",rules:t.rules.denda_tiket_hilang,label:"Denda Tiket Hilang (Rp)",type:"number"},model:{value:t.form.denda_tiket_hilang,callback:function(e){t.$set(t.form,"denda_tiket_hilang",e)},expression:"form.denda_tiket_hilang"}}),t._v(" "),r("v-text-field",{attrs:{outlined:"",dense:"",rules:t.rules.tarif_menginap,label:"Tarif Menginap (Rp)",type:"number"},model:{value:t.form.tarif_menginap,callback:function(e){t.$set(t.form,"tarif_menginap",e)},expression:"form.tarif_menginap"}}),t._v(" "),r("v-select",{attrs:{outlined:"",dense:"",rules:t.rules.mode_tarif,label:"Mode Tarif",items:[{text:"Flat",value:0},{text:"Progresif",value:1}]},model:{value:t.form.mode_tarif,callback:function(e){t.$set(t.form,"mode_tarif",e)},expression:"form.mode_tarif"}}),t._v(" "),0==t.form.mode_tarif?r("v-text-field",{attrs:{outlined:"",dense:"",rules:t.rules.tarif_flat,label:"Tarif Flat (Rp)",type:"number"},model:{value:t.form.tarif_flat,callback:function(e){t.$set(t.form,"tarif_flat",e)},expression:"form.tarif_flat"}}):t._e(),t._v(" "),1==t.form.mode_tarif?r("v-text-field",{attrs:{outlined:"",dense:"",rules:t.rules.tarif_maksimum,label:"Tarif Maximum (Rp)",type:"number"},model:{value:t.form.tarif_maksimum,callback:function(e){t.$set(t.form,"tarif_maksimum",e)},expression:"form.tarif_maksimum"}}):t._e(),t._v(" "),1==t.form.mode_tarif?r("v-text-field",{attrs:{outlined:"",dense:"",rules:t.rules.menit_pertama,label:"Menit Pertama",type:"number"},model:{value:t.form.menit_pertama,callback:function(e){t.$set(t.form,"menit_pertama",e)},expression:"form.menit_pertama"}}):t._e(),t._v(" "),1==t.form.mode_tarif?r("v-text-field",{attrs:{outlined:"",dense:"",rules:t.rules.tarif_menit_pertama,label:"Tarif Menit Pertama (Rp)",type:"number"},model:{value:t.form.tarif_menit_pertama,callback:function(e){t.$set(t.form,"tarif_menit_pertama",e)},expression:"form.tarif_menit_pertama"}}):t._e(),t._v(" "),1==t.form.mode_tarif?r("v-text-field",{attrs:{outlined:"",dense:"",rules:t.rules.menit_selanjutnya,label:"Menit Selanjutnya",type:"number"},model:{value:t.form.menit_selanjutnya,callback:function(e){t.$set(t.form,"menit_selanjutnya",e)},expression:"form.menit_selanjutnya"}}):t._e(),t._v(" "),1==t.form.mode_tarif?r("v-text-field",{attrs:{outlined:"",dense:"",rules:t.rules.tarif_menit_selanjutnya,label:"Tarif Menit Selanjutnya (Rp)",type:"number"},model:{value:t.form.tarif_menit_selanjutnya,callback:function(e){t.$set(t.form,"tarif_menit_selanjutnya",e)},expression:"form.tarif_menit_selanjutnya"}}):t._e()],1)],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{text:""},on:{click:function(e){t.showForm=!1}}},[t._v(" BATAL ")]),t._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:t.saveData}},[t._v(" SIMPAN ")])],1)],1)],1)],2)}),[],!1,null,null,null);e.default=component.exports;c()(component,{DeleteConfirmation:r(509).default}),c()(component,{VBtn:m.a,VCard:f.a,VCardActions:d.a,VCardText:d.b,VCardTitle:d.c,VDialog:v.a,VForm:_.a,VIcon:h.a,VListItem:x.a,VListItemAction:y.a,VListItemAvatar:k.a,VListItemContent:w.a,VListItemSubtitle:w.b,VListItemTitle:w.c,VSelect:D.a,VSpacer:$.a,VTextField:j.a})}}]);